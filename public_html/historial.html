<!DOCTYPE html>
<html>
    <head>
        <title>
            Trabajar con el Historial
        </title>



        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" lang="es-es">

        <meta name="viewport" content="width=device-width">


        <script type="text/javascript">
            function length()
            {
                window.history.length();
            }

            function back()
            {
                window.history.back();
            }
            function forward()
            {
                window.history.forward();
            }
            function go()
            {
                var amount = document.getElementById("amount").value;
                window.history.go(amount);
            }

            function loader()
            {
                var length = window.history.length;
                document.getElementById("length").innerHTML = "<h1>" + "tama&ntilde;o       	                        historial: " + length + "</h1>";
            }
            
            // window.history.pushState() -> Incluir dtos en el historial
            
            // window.history.
            function pushData()
            {
                var statedata = document.getElementById("statedata").value;
                var containerObject = {container: statedata};
                window.history.pushState(containerObject, "item", "historial.html");

            }

            function popData(event)
            {
                var state = "Pagina: " + document.location + " Datos: " + event.state.container;
                document.getElementById("state").innerHTML = "<h1>" + state + "</h1>";
            }
            ;
            window.addEventListener("popstate", popData, false);
        </script>
    </head>
    <body onload="loader()">
        <h1>Trabajar con el Historial</h1>
        <input type="button" value="Atr&aacute;s" onclick="back();">
        <input type="button" value="Adelante" onclick="forward();">
        <br>
        p&aacute;ginas a moverse: 
        <input id="amount" type="text"> <input type="button" value="IR" onclick="go();">
        <br>
        <br>
        <br>
        <br>
        Texto para enviar: 
        <input id="statedata" type="text">
        <input type="button" value="enviar Datos" onclick="pushData();">
        <br>
        <br>
        <div id="length"></div>
        <br>
        <div id="state"></div>
        <br>
    </body>
</html>